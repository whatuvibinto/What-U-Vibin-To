<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WHAT U VIBIN TO?</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <style>
        /* --- CSS スタイル設定 --- */
        
        :root {
            --bg-color: #f0f0eb; /* 少しグレーがかったコンクリート色 */
            --text-color: #1a1a1a;
            --accent-color: #FF4F00; /* オランダ・オレンジ (International Orange) */
            --grid-color: #dcdcd9;
        }

        /* 全体のリセットとベース設定 */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            /* 背景にドットグリッド（設計図風）を追加してストリート/インダストリアル感を出す */
            background-image: radial-gradient(var(--grid-color) 2px, transparent 2px);
            background-size: 20px 20px;
            
            font-family: 'Space Mono', monospace; /* 基本は等幅フォントで無機質に */
            color: var(--text-color);
            overflow-x: hidden;
        }

        /* コンテナ */
        .container {
            position: relative;
            width: 100%;
            min-height: 100vh;
            max-width: 1400px; /* ワイドに */
            margin: 0 auto;
            padding: 20px;
            box-sizing: border-box;
        }

        /* --- 装飾：上部の流れるテキスト (Ticker) --- */
        .marquee-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: var(--text-color);
            color: var(--bg-color);
            padding: 5px 0;
            z-index: 100;
            overflow: hidden;
            white-space: nowrap;
            font-family: 'Space Mono', monospace;
            font-size: 0.8rem;
            letter-spacing: 2px;
        }
        .marquee-content {
            display: inline-block;
            animation: marquee 20s linear infinite;
        }
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* 1. 左上のロゴ */
        .header-logo-wrapper {
            position: absolute;
            top: 60px; /* Tickerの分少し下げる */
            left: 20px;
            width: 500px; 
            max-width: 80%;
            z-index: 10;
            transition: transform 0.3s ease;
        }
        
        .header-logo-wrapper:hover {
            transform: scale(1.02) rotate(-2deg);
        }

        .header-logo-wrapper a {
            display: block;
            width: 100%;
        }

        .header-logo-wrapper img {
            width: 100%;
            height: auto;
            transform: rotate(-10deg);
            /* 【修正】ロゴ自体にドロップシャドウをかけて「浮いているステッカー」感を出す */
            /* 影を少しシャープにして、グラフィカルさを強調 */
            filter: drop-shadow(15px 15px 10px rgba(0,0,0,0.5)); 
        }

        /* 2. メインコンテンツ */
        .main-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 90vh; /* 少し高さを確保 */
            position: relative;
        }

        /* 左側のナビゲーションリンク */
        .nav-links {
            display: flex;
            flex-direction: column;
            gap: 5px; /* 行間を狭くして塊感を出す */
            z-index: 20;
            margin-top: 180px; 
            margin-left: 5%;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-color);
            /* フォント変更：インパクトのあるサンセリフ体 */
            font-family: 'Anton', sans-serif; 
            font-size: 4rem; /* かなり大きく */
            line-height: 0.9; /* 行間を詰める */
            text-transform: uppercase;
            position: relative;
            transition: all 0.2s;
            width: fit-content;
            letter-spacing: 1px;
            /* 背景は透明 */
            background-color: transparent; 
        }

        /* ナビゲーションのホバーエフェクト：ストローク（白抜き）+ オレンジ影 */
        .nav-links a:hover {
            color: transparent;
            -webkit-text-stroke: 2px var(--text-color); /* 縁取り文字 */
            text-shadow: 5px 5px 0px var(--accent-color); /* オレンジの硬い影 */
            transform: translateX(20px);
        }

        /* "Dig for new music" の特別なスタイル */
        /* 小さく添えられたタギングのような扱いに変更 */
        .nav-links a.special-link {
            font-family: 'Space Mono', monospace;
            font-size: 1.2rem;
            font-weight: bold;
            letter-spacing: -1px;
            margin-top: 20px;
            padding: 5px 10px;
            background: var(--text-color);
            color: var(--bg-color);
            text-decoration: none;
            text-transform: none;
            transform: rotate(-3deg);
            display: inline-block;
            clip-path: polygon(5% 0%, 100% 0%, 95% 100%, 0% 100%); /* テープのような形状 */
        }
        
        .nav-links a.special-link:hover {
            background: var(--accent-color);
            color: #fff;
            text-shadow: none;
            -webkit-text-stroke: 0;
            transform: rotate(0deg) scale(1.1);
        }

        /* 3. 右側のレコード盤エリア */
        .record-wrapper {
            position: absolute;
            right: -120px;
            top: 55%;
            transform: translateY(-50%);
            width: 650px; /* さらに少し大きく */
            height: 650px;
            z-index: 5;
            cursor: grab;
            touch-action: none;
            border-radius: 50%;
            
            /* 影の調整：より濃く、シャープにして床に落ちている感を出す */
            box-shadow: 20px 30px 40px rgba(0,0,0,0.6); 
        }

        .record-wrapper:active {
            cursor: grabbing;
        }

        .record-img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            user-select: none;
            -webkit-user-drag: none;
            /* 画像のコントラストを上げて質感を強調 */
            filter: contrast(1.1) brightness(0.95);
        }

        /* 4. フッター：スペック表のようなデザインに */
        .footer {
            position: absolute;
            bottom: 20px;
            left: 20px;
            text-align: left; /* 左寄せ */
            font-size: 0.7rem;
            color: var(--text-color);
            border-top: 2px solid var(--text-color);
            padding-top: 10px;
            display: flex;
            gap: 20px;
            opacity: 0.7;
        }

        .footer span {
            display: block;
        }

        /* --- レスポンシブ対応（スマホ向け） --- */
        @media (max-width: 768px) {
            .header-logo-wrapper {
                width: 320px;
                top: 50px;
                left: 10px;
            }
            .nav-links {
                margin-top: 140px;
                margin-left: 20px;
            }
            .nav-links a {
                font-size: 3rem; /* スマホでも大きく */
            }
            .nav-links a.special-link {
                font-size: 1rem;
            }
            .record-wrapper {
                width: 380px;
                height: 380px;
                right: -80px;
                top: 60%;
            }
            .footer {
                flex-direction: column;
                gap: 5px;
            }
        }
    </style>
</head>
<body>

<div class="marquee-wrapper">
    <div class="marquee-content">
        WHAT U VIBIN TO? /// AMSTERDAM /// TOKYO /// STRICTLY VINYL /// DIG DEEP /// PLAY IT LOUD /// WHAT U VIBIN TO? /// AMSTERDAM /// TOKYO /// STRICTLY VINYL ///
    </div>
</div>

<div class="container">
    <div class="header-logo-wrapper">
        <a href="index.html">
            <img src="images/logo.png" alt="WHAT U VIBIN TO?">
        </a>
    </div>

    <div class="main-content">
        <nav class="nav-links">
            <a href="about.html">About</a>
            <a href="books.html">Books</a>
            <a href="contact.html">Contact</a>
            <a href="event.html">Events</a>
            <a href="dig.html" class="special-link">>> DIG FOR NEW MUSIC</a>
        </nav>

        <div class="record-wrapper" id="recordArea">
            <img src="images/record.png" alt="Vinyl Record" class="record-img" id="recordDisk">
        </div>
    </div>

    <div class="footer">
        <span>DEV: LUCY</span>
        <span>STATUS: ONLINE</span>
        <span>LOC: AMS/TKY</span>
        <span>© 2024 WUVT CREW</span>
    </div>
</div>

<audio id="scratchAudio" src="scratch.mp3" preload="auto"></audio>

<script>
    /* --- JavaScript スクラッチ機能（変更なし） --- */

    const recordArea = document.getElementById('recordArea');
    const recordDisk = document.getElementById('recordDisk');
    const audio = document.getElementById('scratchAudio');

    let isDragging = false;
    let startAngle = 0;
    let currentRotation = 0;
    let lastRotation = 0;
    let previousPlayTime = 0;

    function getCenter(element) {
        const rect = element.getBoundingClientRect();
        return {
            x: rect.left + rect.width / 2,
            y: rect.top + rect.height / 2
        };
    }

    function getAngle(x, y, center) {
        const dy = y - center.y;
        const dx = x - center.x;
        let theta = Math.atan2(dy, dx);
        theta *= 180 / Math.PI;
        return theta;
    }

    function playScratchSound() {
        const now = Date.now();
        if (now - previousPlayTime > 100) {
            audio.currentTime = 0;
            const playPromise = audio.play();
            if (playPromise !== undefined) {
                playPromise.catch(error => {
                    console.log("Audio play prevented needed interaction first.");
                });
            }
            previousPlayTime = now;
        }
    }

    recordArea.addEventListener('mousedown', (e) => {
        isDragging = true;
        const center = getCenter(recordArea);
        startAngle = getAngle(e.clientX, e.clientY, center) - currentRotation;
        recordArea.style.cursor = 'grabbing';
    });

    window.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        e.preventDefault();
        const center = getCenter(recordArea);
        const angle = getAngle(e.clientX, e.clientY, center);
        const newRotation = angle - startAngle;
        recordDisk.style.transform = `rotate(${newRotation}deg)`;

        if (Math.abs(newRotation - lastRotation) > 2) {
            playScratchSound();
        }
        currentRotation = newRotation;
        lastRotation = newRotation;
    });

    window.addEventListener('mouseup', () => {
        isDragging = false;
        recordArea.style.cursor = 'grab';
    });

    recordArea.addEventListener('touchstart', (e) => {
        isDragging = true;
        const touch = e.touches[0];
        const center = getCenter(recordArea);
        startAngle = getAngle(touch.clientX, touch.clientY, center) - currentRotation;
    }, { passive: false });

    window.addEventListener('touchmove', (e) => {
        if (!isDragging) return;
        e.preventDefault();
        const touch = e.touches[0];
        const center = getCenter(recordArea);
        const angle = getAngle(touch.clientX, touch.clientY, center);
        const newRotation = angle - startAngle;
        recordDisk.style.transform = `rotate(${newRotation}deg)`;

        if (Math.abs(newRotation - lastRotation) > 2) {
            playScratchSound();
        }
        currentRotation = newRotation;
        lastRotation = newRotation;
    }, { passive: false });

    window.addEventListener('touchend', () => {
        isDragging = false;
    });
</script>

</body>
</html>
