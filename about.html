<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About - WHAT U VIBIN TO?</title>
    
    <link rel="stylesheet" href="css/style_index.css">
    <link rel="stylesheet" href="css/style_about.css">
</head>
<body>

<div class="marquee-wrapper">
    <div class="marquee-content">
        ABOUT THIS SITE /// WHAT U VIBIN TO? /// ABOUT THIS SITE /// WHAT U VIBIN TO? /// ABOUT THIS SITE /// WHAT U VIBIN TO? /// ABOUT THIS SITE /// WHAT U VIBIN TO? ///
    </div>
</div>

<div class="container">
    <div class="header-logo-wrapper">
        <a href="index.html">
            <img src="images/logo.svg" alt="WHAT U VIBIN TO?">
        </a>
    </div>

    <div class="main-content">
        <nav class="nav-links">
            <a href="about.html" style="text-decoration: underline; pointer-events: none;">About</a>
            <a href="books.html">Books</a>
            <a href="contact.html">Contact</a>
            <a href="dig.html" class="special-link">Dig for new music</a>
            <a href="event.html">Events</a>
        </nav>

        <div class="record-wrapper" id="recordArea">
            <img src="images/record_v2.svg" alt="Vinyl Record" class="record-img">
        </div>
    </div>

    <div class="about-bottom-panel" id="swipePanel">
        
        <div class="swipe-indicator"></div>

        <div class="about-content-inner">
            
            <h2 class="about-main-title">ABOUT</h2>

            <p class="about-intro">
                このサイトは、気になるあの人のミュージックプレイリストを紹介します。<br>
                ぜひ、新しい音楽との出会いを楽しんでください。
            </p>
            <p class="about-note">
                ※「What u vibin to?」とは、「最近何にノってんの？」「最近どんな曲聴いてんの？」というニュアンスの口語です
            </p>

            <div class="about-columns">
                <dl>
                    <dt>Books</dt>
                    <dd>オリジナルアートブックのアーカイブを見ることができます。<br>
                    <span class="small-note">※軍資金がそろい次第始動します。</span></dd>
                </dl>
                <dl>
                    <dt>Contact</dt>
                    <dd>本サイトでの掲載依頼などのお問い合わせはこちらから</dd>
                </dl>
                <dl>
                    <dt class="highlight-text">Dig for new music</dt>
                    <dd>気になるあの人のミュージックプレイリストへQRコードへ飛びます。<br>
                    本サイトのメインにあたるディグページです。</dd>
                </dl>
                <dl>
                    <dt>Events</dt>
                    <dd>イベント情報を掲載しています。さあ、夜の街へ繰り出そう</dd>
                </dl>
            </div>
        </div>
    </div>

    <div class="footer">
        Developed by Lucy, Wassup bro
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const panel = document.getElementById('swipePanel');
        let startY = 0;
        let currentY = 0;
        let isDragging = false;

        // タッチ開始
        panel.addEventListener('touchstart', (e) => {
            // パネルが一番上までスクロールされている時だけ検知する（途中からのスクロールを阻害しないため）
            if (panel.scrollTop === 0) {
                startY = e.touches[0].clientY;
                isDragging = true;
            } else {
                isDragging = false;
            }
        }, { passive: true });

        // タッチ移動
        panel.addEventListener('touchmove', (e) => {
            if (!isDragging) return;
            currentY = e.touches[0].clientY;
            
            const diff = currentY - startY;
            
            // 下方向に引っ張っている時、少し画面を動かしてフィードバックを与える
            if (diff > 0) {
                // 抵抗感を出すために値を割る
                panel.style.transform = `translateY(${diff / 3}px)`;
            }
        }, { passive: true });

        // タッチ終了
        panel.addEventListener('touchend', (e) => {
            if (!isDragging) return;
            
            const diff = currentY - startY;
            const threshold = 80; // 戻る判定をするスワイプ距離（ピクセル）

            if (diff > threshold) {
                // しきい値を超えたらindex.htmlに戻る
                
                // アニメーションでパネルを下げる
                panel.style.transition = 'transform 0.3s ease, opacity 0.3s ease';
                panel.style.transform = 'translateY(100%)';
                panel.style.opacity = '0';

                // 少し待ってから遷移
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 300);
            } else {
                // しきい値を超えてなければ元の位置に戻す
                panel.style.transition = 'transform 0.3s ease';
                panel.style.transform = 'translateY(0)';
                
                // トランジションが終わったらスタイルをクリア（次の操作のため）
                setTimeout(() => {
                    panel.style.transition = '';
                }, 300);
            }
            isDragging = false;
        });
    });
</script>

</body>
</html>
